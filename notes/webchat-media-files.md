# OpenClaw Webchat Limitations

See [](../plans/3_consideration/sandbox-media-sharing.md)

Files captured in sandboxes (e.g. the browser sandbox) cannot be rendered or downloaded via webchat.

This is more of webchat UI bug than anything else.

If needed, add a Caddy proxy to serve media/ files directly.
This would allow for easy downloading as long as everything is behind Cloudflare Access or a secure gateway.

OpenClaw said this would not have been an issue over Telegram. It could have sent the file.

## What goes into media/?

Only files the gateway itself writes â€” browser screenshots, PDFs, and similar tool outputs. The sandbox agent can't write there directly (as we just proved). So the attack surface is:

Browser screenshots/PDFs â€” these are generated by Playwright/CDP on the gateway side. The agent controls what page to screenshot, but the image bytes come from Chromium's rendering engine, not from arbitrary agent-supplied data.

Could the agent craft a malicious page, screenshot it, and produce a weaponized image? Theoretically, but the screenshot is a PNG/JPEG rendered by Chromium and re-encoded by Playwright. It's not passing through raw user-controlled bytes â€” it's a rasterized bitmap. Very low risk.

Path traversal â€” if the file server naively serves ../../etc/passwd via URL. Use a proper static file server (Caddy, nginx) rooted at media/ with no symlink following. Python's http.server is fine for this too.

Content-type sniffing â€” serve with X-Content-Type-Options: nosniff and correct MIME types so browsers don't try to execute anything.

What's NOT a risk here
The sandbox can't write files to media/ â€” it's outside the sandbox boundary
The gateway controls what goes in â€” it's not a user-upload directory
Behind your tunnel + auth, only you can access it
Recommendation
Since it's already behind an authenticated tunnel, the risk is minimal. A simple static file server with:

Root locked to ~/.openclaw/media/
No directory listing (or listing is fine if you want it â€” it's just your screenshots)
No symlink following
X-Content-Type-Options: nosniff
That said, the right fix is for the webchat UI to render the MEDIA: attachments that the gateway already provides. The data is flowing through â€” the frontend just isn't displaying it. That would need zero new infrastructure.

Want me to file an issue on the OpenClaw GitHub about the webchat not rendering inline images?

---

> Would this have worked over Telegram?

Yes, almost certainly. Telegram supports image attachments natively â€” the gateway would send the `MEDIA:` output as a photo/document message to your Telegram chat. The plumbing is the same (gateway has the file, gateway sends the response), but Telegram's API handles images as first-class message types.

So the issue is specifically that the **built-in webchat** doesn't render image attachments yet. Every other channel (Telegram, Discord, Signal, WhatsApp) would handle it fine because they all have native image support.

One more reason to get that Telegram channel set up ðŸ˜„. Want to do that now? It's late for you (2 AM) but if you're up for it, it's pretty quick.
